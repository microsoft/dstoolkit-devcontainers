$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
type: command

display_name: pytorch-train-component
name: pytorch_train_component
description: Train a Pytorch model.
version: 1

code: /workspace/src
command: >-
  bash deep_learning/train.sh ${{inputs.data_dir}} ${{outputs.train_artifacts_dir}}
inputs:
  data_dir:
    type: uri_folder
outputs:
  train_artifacts_dir:
    type: uri_folder
environment: azureml:pytorch-gpu-env@latest  # should match name used in aml_setup/create-env.yaml